<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lenta</title>
</head>
<body>
<div th:replace="/include/_header :: content"></div>
<!--<div class="container">-->
<!--    <div class="row">-->
<!--        <div class="col-sm-3">-->
<!--            <div th:replace="/include/sidebar :: sidebar"></div>-->
<!--        </div>-->
<!--        <div class="col-sm-9">-->
<!--            <div class="row">-->
<!--                <blockquote class="blockquote">-->
<!--                    <p>Megatop.by</p>-->
<!--                </blockquote>-->
<!--                <div class="col-12 col-sm-6">-->
<!--                    <h2>Upload Files</h2>-->
<!--                    <form th:action="@{/excel/megatop/upload}" th:object="${fileForm}" method="post"-->
<!--                          enctype="multipart/form-data">-->
<!--                        <label for="files">Files:</label>-->
<!--                        <input type="file" th:field="*{files}" multiple id="files"/>-->

<!--                        <br/>-->

<!--                        <input type="submit" value="Upload"/>-->
<!--                        <br>-->
<!--                        <h2>Latest Labels:</h2>-->
<!--                        &lt;!&ndash; Изменяем id атрибута для избежания дублирования &ndash;&gt;-->
<!--                        <select name="labelSelect" id="labelSelect" th:field="*{label}">-->
<!--                            <option th:value="${generatedLabel}" th:text="${generatedLabel}"></option>-->
<!--                            <option th:each="label : ${latestLabels}" th:value="${label}" th:text="${label}"></option>-->
<!--                        </select>-->
<!--                    </form>-->


<!--                    <h2>Download Data</h2>-->
<!--                    <form th:action="@{/excel/megatop/download}" method="post">-->
<!--                        <label for="downloadLabel">Download Label:</label>-->
<!--                        <select id="downloadLabel" name="downloadLabel" required>-->
<!--                            <option th:each="label : ${latestLabels}" th:value="${label}" th:text="${label}"></option>-->
<!--                            <option value="Custom">Custom</option>-->
<!--                        </select>-->
<!--                        <br>-->
<!--                        <label for="format">Download Format:</label>-->
<!--                        <select id="format" name="format" required>-->
<!--                            <option value="excel">Excel</option>-->
<!--                            <option value="csv">CSV</option>-->
<!--                        </select>-->
<!--                        <br>-->
<!--                        <input type="submit" value="Download">-->
<!--                    </form>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<div class="container">
    <div class="row">
        <div class="col-sm-3">
            <div th:replace="/include/sidebar :: sidebar"></div>
        </div>
        <div class="col-sm-9">
            <h2 class="display-4 mb-4">Megatop</h2>
            <div class="row">
                <div class="col-12 col-sm-6">
                    <h4>Upload Files</h4>
                    <form th:action="@{/excel/megatop/upload}" th:object="${fileForm}" method="post"
                          enctype="multipart/form-data" class="mb-3">
                        <div class="mb-3">
                            <label for="files" class="form-label">Files:</label>
                            <input type="file" class="form-control" th:field="*{files}" multiple id="files"/>
                        </div>

                        <div class="mb-3">
                            <label for="labelSelect" class="form-label">Latest Labels:</label>
                            <select name="labelSelect" id="labelSelect" class="form-select" th:field="*{label}">
                                <option th:value="${generatedLabel}" th:text="${generatedLabel}"></option>
                                <option th:each="label : ${latestLabels}" th:value="${label}" th:text="${label}"></option>
                            </select>
                        </div>

                        <input type="submit" class="btn btn-primary" value="Upload"/>
                    </form>
                </div>

                <div class="col-12 col-sm-6">
                    <h4>Download Data</h4>
                    <form th:action="@{/excel/megatop/download}" method="post" class="mb-3">
                        <div class="mb-3">
                            <label for="downloadLabel" class="form-label">Download Label:</label>
                            <select id="downloadLabel" name="downloadLabel" class="form-select" required>
                                <option th:each="label : ${latestLabels}" th:value="${label}" th:text="${label}"></option>
                                <option value="Custom">Custom</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label for="format" class="form-label">Download Format:</label>
                            <select id="format" name="format" class="form-select" required>
                                <option value="excel">Excel</option>
                                <option value="csv">CSV</option>
                            </select>
                        </div>

                        <input type="submit" class="btn btn-primary" value="Download">
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>





    <script>
        document.getElementsByName('labelSelect')[0].addEventListener('change', function () {
            const customLabelInput = document.getElementById('customLabel');
            customLabelInput.style.display = this.value === 'Custom' ? 'inline' : 'none';
        });
    </script>
</body>